{% extends 'base.html' %} 
{% block header %}
Notifications
{% endblock header %}
{% block content %}


  {% comment %} <div class=" relative w-full flex-none mb-2 text-2xl relative flex flex-wrap items-baseline pb-20 before:bg-emerald-400 before:absolute before:-top-6 before:bottom-0 before:-left-60 before:-right-6">

  </div> {% endcomment %}


  <div class="flex  bg-slate-100">
    <div class="w-2/12 bg-green-100 flex flex-col items-center pb-10">
        <div class="my-12 flex flex-col gap-2 justify-center items-center">
            <svg height="64px" width="64px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 504.123 504.123" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:#2b6a01;" d="M235.733,0c0,0,29.594,22.662-10.87,73.169c-22,27.427-27.475,68.017,23.662,95.815 c-9.082-20.48-24.639-68.277,9.389-101.155c0,0-28.861,35.415,4.435,99.864c20.543-8.444,66.111-32.689,56.737-79.045 C306.696,27.388,235.733,0,235.733,0z"></path> <path style="fill:#46a800;" d="M262.215,167.416c30.901-39.66,38.187-94.46,15.927-141.816C256.922,8.2,235.725,0,235.725,0 s29.594,22.662-10.87,73.169c-22,27.427-27.475,68.017,23.662,95.815c-9.082-20.48-24.639-68.277,9.389-101.155 C257.914,67.828,229.148,103.14,262.215,167.416z"></path> <circle style="fill:#2b6a01;" cx="195.104" cy="86.835" r="4.372"></circle> <g> <circle style="fill:#46a800;" cx="204.729" cy="76.154" r="3.127"></circle> <circle style="fill:#46a800;" cx="187.376" cy="52.011" r="7.79"></circle> <circle style="fill:#46a800;" cx="217.056" cy="55.225" r="2.489"></circle> <path style="fill:#46a800;" d="M234.189,28.956c1.993,3.434,0.851,7.814-2.576,9.815c-3.419,1.985-7.806,0.843-9.807-2.584 c-1.993-3.403-0.835-7.798,2.576-9.799C227.793,24.387,232.196,25.537,234.189,28.956z"></path> </g> <path style="fill:#2b6a01;" d="M268.39,504.123c0,0-29.601-22.662,10.87-73.169c21.992-27.427,27.475-68.017-23.67-95.815 c9.09,20.48,24.647,68.261-9.381,101.14c0,0,28.853-35.399-4.435-99.848c-20.543,8.444-66.103,32.689-56.737,79.045 C197.427,476.735,268.39,504.123,268.39,504.123z"></path> <path style="fill:#46a800;" d="M241.908,336.691c-30.909,39.66-38.187,94.476-15.935,141.816 c21.228,17.416,42.425,25.616,42.425,25.616s-29.601-22.662,10.87-73.169c21.992-27.427,27.475-68.017-23.67-95.815 c9.09,20.48,24.647,68.261-9.381,101.14C246.209,436.279,274.976,400.967,241.908,336.691z"></path> <circle style="fill:#2b6a01;" cx="309.012" cy="417.319" r="4.364"></circle> <g> <circle style="fill:#46a800;" cx="299.402" cy="427.961" r="3.127"></circle> <circle style="fill:#46a800;" cx="316.731" cy="452.112" r="7.798"></circle> <circle style="fill:#46a800;" cx="287.067" cy="448.906" r="2.497"></circle> <circle style="fill:#46a800;" cx="276.086" cy="471.513" r="7.176"></circle> </g> <path style="fill:#2b6a01;" d="M418.745,62.275c0,0,4.907,36.951-59.431,44.064c-34.942,3.828-67.513,28.664-51.011,84.496 c8.05-20.921,30.846-65.709,78.155-64.89c0,0-45.442,4.632-67.466,73.736c20.504,8.554,69.853,23.631,96.004-15.77 C449.56,131.828,418.745,62.275,418.745,62.275z"></path> <path style="fill:#46a800;" d="M319.094,199.396c49.892-6.199,93.791-39.802,111.537-89.033 c-2.702-27.309-11.886-48.089-11.886-48.089s4.907,36.951-59.431,44.064c-34.942,3.828-67.513,28.664-51.011,84.496 c8.05-20.921,30.846-65.709,78.155-64.89C386.458,125.936,341.157,130.568,319.094,199.396z"></path> <circle style="fill:#2b6a01;" cx="328.609" cy="94.956" r="4.364"></circle> <g> <circle style="fill:#46a800;" cx="342.977" cy="94.216" r="3.119"></circle> <circle style="fill:#46a800;" cx="347.766" cy="64.859" r="7.798"></circle> <path style="fill:#46a800;" d="M368.9,88.757c-0.347,1.339-1.717,2.135-3.04,1.788c-1.339-0.354-2.135-1.709-1.788-3.064 c0.354-1.308,1.709-2.111,3.041-1.772C368.443,86.063,369.254,87.434,368.9,88.757z"></path> <circle style="fill:#46a800;" cx="390.239" cy="79.856" r="7.168"></circle> </g> <path style="fill:#2b6a01;" d="M85.378,441.832c0,0-4.915-36.935,59.424-44.048c34.942-3.844,67.521-28.664,51.019-84.496 c-8.058,20.905-30.846,65.709-78.155,64.89c0,0,45.442-4.632,67.458-73.736c-20.496-8.57-69.853-23.631-96.004,15.754 C54.563,372.295,85.378,441.832,85.378,441.832z"></path> <path style="fill:#46a800;" d="M185.029,304.727c-49.892,6.199-93.798,39.802-111.537,89.017 c2.71,27.325,11.886,48.089,11.886,48.089s-4.915-36.943,59.424-44.048c34.942-3.844,67.521-28.664,51.019-84.496 c-8.058,20.905-30.846,65.709-78.155,64.89C117.665,378.187,162.966,373.555,185.029,304.727z"></path> <circle style="fill:#2b6a01;" cx="175.514" cy="409.206" r="4.372"></circle> <g> <circle style="fill:#46a800;" cx="161.146" cy="409.915" r="3.119"></circle> <circle style="fill:#46a800;" cx="156.349" cy="439.296" r="7.79"></circle> <circle style="fill:#46a800;" cx="137.633" cy="415.98" r="2.497"></circle> <circle style="fill:#46a800;" cx="113.885" cy="424.251" r="7.168"></circle> </g> <path style="fill:#2b6a01;" d="M504.123,235.725c0,0-22.662,29.601-73.177-10.862c-27.427-22-68.009-27.475-95.815,23.678 c20.488-9.106,68.277-24.647,101.148,9.366c0,0-35.399-28.861-99.848,4.443c8.444,20.535,32.689,66.111,79.045,56.737 C476.727,306.696,504.123,235.725,504.123,235.725z"></path> <path style="fill:#46a800;" d="M336.699,262.215c39.66,30.893,94.452,38.187,141.816,15.919 c17.4-21.213,25.608-42.409,25.608-42.409s-22.662,29.601-73.177-10.862c-27.427-22-68.009-27.475-95.815,23.678 c20.488-9.106,68.277-24.647,101.148,9.366C436.279,257.906,400.951,229.155,336.699,262.215z"></path> <circle style="fill:#2b6a01;" cx="417.28" cy="195.111" r="4.356"></circle> <g> <circle style="fill:#46a800;" cx="427.953" cy="204.721" r="3.127"></circle> <path style="fill:#46a800;" d="M456.042,194.095c-3.718,2.182-8.476,0.922-10.665-2.788c-2.166-3.742-0.922-8.507,2.788-10.665 c3.718-2.182,8.483-0.937,10.658,2.788C461.013,187.14,459.76,191.905,456.042,194.095z"></path> <circle style="fill:#46a800;" cx="448.898" cy="217.009" r="2.497"></circle> <path style="fill:#46a800;" d="M475.152,234.197c-3.434,1.985-7.798,0.843-9.799-2.584c-1.993-3.403-0.851-7.814,2.568-9.815 c3.419-1.985,7.814-0.827,9.807,2.568C479.72,227.801,478.578,232.204,475.152,234.197z"></path> </g> <path style="fill:#2b6a01;" d="M0,268.383c0,0,22.654-29.601,73.169,10.878c27.412,21.984,68.017,27.475,95.815-23.678 c-20.48,9.106-68.277,24.647-101.14-9.381c0,0,35.399,28.861,99.832-4.427c-8.428-20.551-32.673-66.111-79.029-56.737 C27.388,197.427,0,268.383,0,268.383z"></path> <path style="fill:#46a800;" d="M167.416,241.892c-39.66-30.893-94.46-38.172-141.816-15.911C8.2,247.217,0,268.383,0,268.383 s22.654-29.601,73.169,10.878c27.412,21.984,68.017,27.475,95.815-23.678c-20.48,9.106-68.277,24.647-101.14-9.381 C67.844,246.201,103.148,274.983,167.416,241.892z"></path> <circle style="fill:#2b6a01;" cx="86.804" cy="309.02" r="4.372"></circle> <g> <circle style="fill:#46a800;" cx="76.146" cy="299.386" r="3.119"></circle> <path style="fill:#46a800;" d="M48.073,310.012c3.718-2.166,8.483-0.906,10.665,2.812c2.166,3.71,0.922,8.476-2.788,10.65 c-3.718,2.182-8.483,0.922-10.665-2.788C43.095,316.967,44.363,312.202,48.073,310.012z"></path> <circle style="fill:#46a800;" cx="55.217" cy="287.059" r="2.497"></circle> <circle style="fill:#46a800;" cx="32.579" cy="276.133" r="7.168"></circle> </g> <path style="fill:#2b6a01;" d="M441.84,418.737c0,0-36.943,4.907-44.056-59.431c-3.836-34.942-28.664-67.505-84.496-51.003 c20.913,8.042,65.709,30.846,64.89,78.155c0,0-4.632-45.45-73.736-67.474c-8.562,20.512-23.639,69.86,15.77,96.012 C372.295,449.552,441.84,418.737,441.84,418.737z"></path> <path style="fill:#46a800;" d="M304.727,319.094c6.199,49.892,39.802,93.783,89.017,111.537 c27.309-2.71,48.096-11.894,48.096-11.894s-36.943,4.907-44.056-59.431c-3.836-34.942-28.664-67.505-84.496-51.003 c20.913,8.042,65.709,30.846,64.89,78.155C378.187,386.458,373.547,341.157,304.727,319.094z"></path> <circle style="fill:#2b6a01;" cx="409.159" cy="328.625" r="4.364"></circle> <g> <path style="fill:#46a800;" d="M409.12,345.986c-1.67-0.433-2.655-2.135-2.221-3.781c0.433-1.678,2.135-2.678,3.789-2.245 c1.67,0.449,2.678,2.135,2.237,3.828C412.475,345.435,410.782,346.443,409.12,345.986z"></path> <circle style="fill:#46a800;" cx="439.257" cy="347.766" r="7.79"></circle> <path style="fill:#46a800;" d="M415.358,368.908c-1.339-0.354-2.127-1.725-1.796-3.048c0.362-1.339,1.725-2.135,3.072-1.788 c1.315,0.354,2.111,1.709,1.764,3.033C418.06,368.443,416.681,369.262,415.358,368.908z"></path> <circle style="fill:#46a800;" cx="424.267" cy="390.223" r="7.168"></circle> </g> <path style="fill:#2b6a01;" d="M62.283,85.37c0,0,36.935-4.907,44.04,59.431c3.844,34.942,28.68,67.521,84.504,51.019 c-20.913-8.042-65.701-30.846-64.882-78.155c0,0,4.632,45.434,73.736,67.458c8.554-20.496,23.631-69.86-15.762-96.012 C131.828,54.556,62.283,85.37,62.283,85.37z"></path> <path style="fill:#46a800;" d="M199.396,185.029c-6.199-49.892-39.81-93.798-89.033-111.537 C83.046,76.201,62.283,85.37,62.283,85.37s36.935-4.907,44.04,59.431c3.844,34.942,28.68,67.521,84.504,51.019 c-20.913-8.042-65.701-30.846-64.882-78.155C125.936,117.665,130.56,162.966,199.396,185.029z"></path> <circle style="fill:#2b6a01;" cx="94.917" cy="175.498" r="4.364"></circle> <g> <circle style="fill:#46a800;" cx="94.216" cy="161.146" r="3.127"></circle> <circle style="fill:#46a800;" cx="64.851" cy="156.349" r="7.798"></circle> <circle style="fill:#46a800;" cx="88.119" cy="137.633" r="2.497"></circle> <circle style="fill:#46a800;" cx="79.84" cy="113.885" r="7.168"></circle> </g> </g></svg>
            <h1 class="text-4xl font-bold text-green-800 ">Vayal</h1>
        </div>
        <ul class="flex flex-col gap-7 w-full font-bold text-gray-400">
                <li class="w-full flex items-center px-5 py-1 gap-4 group hover:text-gray-500 cursor-pointer hover:border-green-700 hover:border-r-4">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="w-6 h-6 group-hover:text-green-700">
                          <path stroke-linecap="round" stroke-linejoin="round"
                          d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                      </svg>
                      <a href="{% url 'vayal_user:home' %}">Home</a>
                  </li>
            </li>
            
            <li class="w-full flex items-center px-5 py-1 gap-4 group hover:text-gray-500 cursor-pointer hover:border-green-700 hover:border-r-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="w-6 h-6 group-hover:text-green-700">
                    <path stroke-linecap="round" stroke-linejoin="round"  
                    d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z" />
                </svg> 
                <a href="{% url 'vayal_user:schemes' %}">Scheme</a>
            </li>

            
            <li class="w-full flex items-center px-5 py-1 gap-4 group hover:text-gray-500 cursor-pointer hover:border-green-700 hover:border-r-4">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                  stroke="currentColor" class="w-6 h-6 group-hover:text-green-700">
                  <path stroke-linecap="round" stroke-linejoin="round"  
                  d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
              </svg> 

              <a href="{% url 'vayal_user:schemes' %}">Vegetables</a>
          </li>
          <li class="w-full flex items-center px-5 py-1 gap-4 group hover:text-gray-500 cursor-pointer hover:border-green-700 hover:border-r-4">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6 group-hover:text-green-700">
                <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
              </svg>
              <a href="{% url 'vayal_user:complaints' %}">Lease land</a>
          </li>
          <li class="w-full flex items-center px-5 py-1 gap-4 group hover:text-gray-500 cursor-pointer hover:border-green-700 hover:border-r-4">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6 group-hover:text-green-700">
                <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
              </svg>
              <a href="{% url 'vayal_user:complaints' %}">Complaints</a>
          </li>
          <li class="w-full flex items-center px-5 py-1 gap-4 border-r-4 text-black border-green-700">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" 
                    stroke="currentColor" class="w-6 h-6 text-green-700">
                    <path stroke-linecap="round" stroke-linejoin="round" 
                    d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
                </svg>
              <a href="#">Notifications</a>
          </li>

           
        </ul>
      </div>
      <div class="w-10/12 h-screen overflow-y-auto px-8 py-14">
        <div class="flex justify-between mb-5">
            <h1 class="text-2xl font-bold">Notifications</h1>
            <div class="relative">
                <img id="profile" src="/uploads/{{student.image}}" class="h-6 w-6 rounded-full cursor-pointer" alt="">
                <div id="popup" class="px-4 py-2 shadow hidden w-max text-sm -bottom-12 right-5 rounded bg-gray-50 flex flex-col">
                    <ul>
                        <li class="border-b-2 py-1"><span class="text-gray-400">Logged in as:</span> {{ request.user }}</li>
                        <a href="{% url 'logout' %}">
                            <li class="py-1 flex gap-1 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" />
                                  </svg>                              
                                Logout
                            </li>
                        </a>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="grid grid-cols-3 gap-x-4 gap-y-8">
            {% for notification in notifications %}
                <div class="flex flex-col bg-white p-4 rounded-md gap-2">
                    <span class="text-2xl font-bold mb-4 pb-2 border-b-2 border-slate-200">{{ notification.title }}</span>
                    <span>{{ notification.description }}</span>
                    {% if notification.attachment %}
                        <a target="_blank" class="flex gap-2 items-center underline" href="/uploads/{{notification.attachment}}">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3 3 0 1119.5 7.372L8.552 18.32m.009-.01l-.01.01m5.699-9.941l-7.81 7.81a1.5 1.5 0 002.112 2.13" />
                            </svg>
                            Attachment
                        </a>
                    {% endif %}
                    <div class="flex justify-end">
                        <span class="text-sm text-gray-400">{{ notification.date }}</span>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>


{% comment %} 
            <div class="border-none rounded-lg">
                <table class="min-w-full divide-y divide-gray-200 text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                        <tr class="">
                            <th scope="col" class="px-6 py-3">
                                Title
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Date
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Actions
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for notification in notifications %}
                            <tr class="bg-white border-b last:border-none">
                               
                                <td class="px-6 py-4">
                                    {{ notification.title }}
                                </td>
                                <td class="px-6 py-4">
                                    {{ notification.date }}
                                </td>
                                <td class="px-6 py-4">
                                    <a href="{% url 'vayal_user:details_notification' notification.id %}">View</a>
                                </td>
                               
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    
    </div> {% endcomment %}
<script>
    const profile = document.querySelector('#profile');
    const popup = document.querySelector('#popup');
    profile.addEventListener("click", togglePopup);
    document.body.addEventListener("click", function (e) {
        if(popup.classList.contains("absolute") && e.target.id != 'profile') {
            togglePopup();
        }
    })
    function togglePopup() {
        popup.classList.toggle("absolute");
        popup.classList.toggle("hidden");
    }
</script>
{% endblock content %}
